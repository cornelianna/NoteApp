@using System.Security.Claims
@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

<form asp-action="CreatePost" method="post" enctype="multipart/form-data" class="create-post-container">
    <!-- Left side for image preview and selecting image -->
    <div class="left-column">
        <div class="image-placeholder" id="imagePreview">
            <span id="imageText">Display selected image</span>
        </div>
        <label for="fileUpload" class="custom-file-upload">
            <img src="~/images/icon.svg" alt="Upload Image Icon" />
            Select Image
        </label>
        <input type="file" accept="image/*" class="form-control-file" name="image" id="fileUpload" style="display: none;" onchange="previewImage(event)">
    </div>

    <!-- Right side for writing the note -->
    <div class="right-column">
        <input class="d-none" type="text" name="Username" placeholder="Username" value="@UserManager.GetUserName(User)" required />
        <textarea name="Content" id="noteInput" placeholder="Write note here..." required></textarea>
        <button type="submit" class="submit-button">Post</button>
    </div>
</form>
